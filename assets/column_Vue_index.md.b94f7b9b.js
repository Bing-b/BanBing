import{_ as s,o as n,c as a,N as l}from"./chunks/framework.d69a0811.js";const p="/BanBing/assets/defindModelsfc.0fe4a140.png",E=JSON.parse('{"title":"v3.4-defindModel åˆä½“éªŒ","description":"","frontmatter":{},"headers":[],"relativePath":"column/Vue/index.md"}'),o={name:"column/Vue/index.md"},e=l(`<h1 id="v3-4-defindmodel-åˆä½“éªŒ" tabindex="-1">v3.4-defindModel åˆä½“éªŒ <a class="header-anchor" href="#v3-4-defindmodel-åˆä½“éªŒ" aria-label="Permalink to &quot;v3.4-defindModel åˆä½“éªŒ&quot;">â€‹</a></h1><h3 id="å½©è›‹-ğŸ§" tabindex="-1">å½©è›‹ ğŸ§ <a class="header-anchor" href="#å½©è›‹-ğŸ§" aria-label="Permalink to &quot;å½©è›‹ ğŸ§&quot;">â€‹</a></h3><p>åœ¨ vue3.3x ç‰ˆæœ¬ä¸­ å®˜æ–¹ <a href="https://github.com/vuejs/rfcs/discussions/503" target="_blank" rel="noreferrer">RFC</a> æ”¾å‡ºäº† ä¸€ä¸ªæ–°ç‰¹æ€§ defineModelï¼Œå®ƒå°†è®©æˆ‘ä»¬åœ¨è‡ªå®šä¹‰ç»„ä»¶ä¸ŠåŒå‘ç»‘å®šæ•°æ®æ›´åŠ å¿«æ·ï¼›</p><h3 id="ä¸¾ä¸ª-ğŸŒ°" tabindex="-1">ä¸¾ä¸ª ğŸŒ° <a class="header-anchor" href="#ä¸¾ä¸ª-ğŸŒ°" aria-label="Permalink to &quot;ä¸¾ä¸ª ğŸŒ°&quot;">â€‹</a></h3><p>ä»¥å‰æˆ‘ä»¬çˆ¶å­ç»„ä»¶åŒå‘æ•°æ®ç»‘å®šè¦åœ¨å­ç»„ä»¶é‡Œå£°æ˜å¯¹åº”çš„ propsã€emtsã€computedã€‚</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// å­ç»„ä»¶.vue</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">p</span><span style="color:#89DDFF;">&gt;{{</span><span style="color:#BABED8;"> $msg </span><span style="color:#89DDFF;">}}&lt;/</span><span style="color:#F07178;">p</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">lang</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">setup</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">const props = withDefaults(defineProps&lt;</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    msg: string</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">&gt;(),</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    mag: </span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">const emits = defineEmits([&quot;update:msg&quot;])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">const $msg = component(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#82AAFF;">get</span><span style="color:#BABED8;">() </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        return props.msg;</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#82AAFF;">set</span><span style="color:#BABED8;">(value:string) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">emits</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">update:msg</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;font-style:italic;">value</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// çˆ¶ç»„ä»¶.vue</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Child</span><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">v-model</span><span style="color:#89DDFF;">:</span><span style="color:#C792EA;">msg</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">msg</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">lang</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">setup</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">import </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;">ref</span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> from &#39;vue&#39;</span></span>
<span class="line"><span style="color:#BABED8;">const msg = ref</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">string</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">(&#39;&#39;);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span></code></pre></div><p>è€Œ defineModel çš„æ–°å†™æ³•ï¼Œåªéœ€è¦å­ç»„ä»¶ 1 è¡Œä»£ç å°±è¡Œï¼Œæ˜¯ä¸æ˜¯ä¸€ä¸‹å°±æ¸…çˆ½å¤šäº†</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">p</span><span style="color:#89DDFF;">&gt;{{</span><span style="color:#BABED8;"> $msg </span><span style="color:#89DDFF;">}}&lt;/</span><span style="color:#F07178;">p</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">lang</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">setup</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">const $msg = defineModel</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">string</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">(&#39;msg&#39;,</span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;">default: </span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span></code></pre></div><h3 id="æ³¨æ„-â—" tabindex="-1">æ³¨æ„ â— <a class="header-anchor" href="#æ³¨æ„-â—" aria-label="Permalink to &quot;æ³¨æ„ â—&quot;">â€‹</a></h3><p>ç”±äºè¿™ä¸ªæ–°ç‰¹æ€§æ˜¯ v3 çš„å®éªŒæ€§åŠŸèƒ½ï¼Œç›®å‰å¼€å¯æ­¤åŠŸèƒ½éœ€è¦åˆ° vite.config.js ä¸­å¼€å¯å¯ç”¨ï¼›vue-loader ä¹Ÿéœ€è¦åœ¨ vue-loader@^17.1.1 ä¸Š</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">plugins</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> [</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#82AAFF;">vue</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">defineModel</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// å¯ç”¨</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre></div><p>è¿˜æœ‰æ­¤ç‰¹æ€§ä»…æ”¯æŒ <code> &lt;script setup&gt;</code></p><p><img src="`+p+'" alt="é¢å’Œå›­"></p>',13),t=[e];function c(r,D,F,y,i,B){return n(),a("div",null,t)}const A=s(o,[["render",c]]);export{E as __pageData,A as default};
